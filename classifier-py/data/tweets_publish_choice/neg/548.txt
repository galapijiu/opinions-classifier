Oh, I should specify: this was a clever C algorithm on a random blog.